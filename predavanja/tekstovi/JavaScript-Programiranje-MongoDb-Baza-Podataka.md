
# УВИТ - ЈаваСкрипт програмирање MongoDB база података

[Владимир Филиповић](https://vladofilipovic.github.io/index-cy.html){:target="_blank"}

## Увод

Овде се описује NoSQL систем за рад са подацима MongoDB, и његово коришћење у језику ЈаваСкрипт.

## Карактеристике NoSQL база података

NoSQL не представља један производ или технологију, већ класу производа и колекцију различитих, понекад повезаних појмова који се односе начинима складиштења и манипулације подацима.

У последње време су се развили новији системи који обезбедују велику хоризонталну скалабилност за једноставне операције читања и писања над подацима дистрибуираним на више сервера изузетно великом брзином. Класични, релациони модели база података омогућавају веома ограничену хоризонталну скалабилност. Хоризонстална скалабилност значи да се лако може додати нови чвор обраде (сервер) када је то потребно, а да то не утиче на рад целокупног система.

За све моделе складишта података који су сврстани у NoSQL важе следеће кључне особине:

– Способност понављања и дистрибуције података на више сервера.

- Обезбеђена хоризонтална скалабилност и једноставне операције између више сервера.

– Једноставан спољашњи интерфејс или протокол - за разлику од SQL.

– Углавном подржавају слабији конкурентни модел од ACID (**A**tomicity, **C**onsistency, **I**solation, **D**urability) особина трансакција (које су обично заступљење у SQL-у). Коришћени модел транскације се често означава са BASE (**B**asically **A**vailable, **S**oft state, **E**ventually consistent.)

– Способност да динамицки додају нове атрибуте.

– Ефикасно коришћење дистрибуираних индекса.

У оквиру NoSQL база података се могу уочити тзв. Баѕе података ојентисане према документима.

Као што само име говори, централни елемент оваквих складишта тј. база података је документ. Документи о којима је реч представљају кодиране податке у JSON-у, XML-у, BSON-у или у неком другом формату. Сваки такав документ представља засебан објекат који апликација може независно да користи.У једном таквом документу могу да се чувају агрегирани подаци за које би у класичним релационим моделима било потребно спајање много табела.

![Пример употребе базе података орјентисане према документима](assets/images/document-oriented-database.png)

Код база података орјентисних према документима,
структура докумената није ригидна, врло је прилагодљива и захвална за употребу. Пример који то илуструје се мозе видети на претходној слици.

## NoSQL база података MongoDB

MongoDB је најпопуларнија NoSQL база података. Она је написана је у језику C++ и отвореног је кода. MongoDB чува податке као JSON (прецизније речено, бинарно енкодиране JSON - тј. BSON) документе са динамичким шемама. MongoDB је прихваћен за чување података код бројних значајних веб-сајтова и сервиса, укључујући  Craigslist, eBay, Foursquare, SourceForge и New York Times.

MongoDB чини интеграцију података у многим апликацијама једноставнијом и брзом. MongoDB је створен и подржан од стране компаније 10gen.

Основне карактеристике MongoDB:

- Смештање усмерено на документа — JSON документа са динамичким шемама нуде једноставност и снагу

- Апсолутна подршка индексирању — Индексирање било ког атрибута

- Репликација и висока доступност

- Аутоматско скалирање — Хоризонтално скалирање без угрожавања функционалности.

- Упити — Моћни упити, базирани на документима

- Брза ажурирања

- Мапирање и редукција — флексибилна агрегација и обрада података

- Посебан систем за рад са датотекама GridFS — чува датотеке било које величине без компликација (уместо чувања датотеке у једном документу, GridFS је дели на делове, или блокове и чува сваки од тих блокова као посебан документ).-

- Ад хоц упити — MongoDB подржава претрагу по пољу, упите по опсегу и претраге по регуларним изразима. Упити могу да врате одредјена поља документа, као и да обухвате кориснички дефинисане ЈаваСцкрипт функције

- Извршавање ЈаваСкрипт кода на страни сервера — ЈаваСкрипт се може користити у упитима, агрегатним функцијама (као сто је MapReduce) и може да се упути директно бази података за извршавање

### Node.js и MongoDB

#### Инсталација

Најпре је потребно инсталирати MongoDB драјвер помоћу npm алата:

```
>npm install mongodb
```

#### Креирање базе података

#### Колекција

#### Убацивање документа у колекцију

#### Претрага по бази

#### Упити

#### Сортирање

#### Брисање докумената

#### Брисање колекција

#### Ажурирање

#### Спајање докумената



## Литература

1. Haverbeke M.: [Eloquent JavaScript](https://eloquentjavascript.net/){:target="_blank"}

2. Костић М.: [Развој веб апликација помоћу MEAN стека](http://www.racunarstvo.matf.bg.ac.rs/MasterRadovi/2017_06_18_Mirjana_Kostic/rad.pdf){:target="_blank"}, Мастер рад, Универзитет у Београду, Математички факултет.

3. [JavaScript](https://developer.mozilla.org/en-US/docs/Web/JavaScript){:target="_blank"} - Mozzila Developer Network (MDN)

4. Живановић, Д.: [Веб програмирање - ЈаваСкрипт](https://www.webprogramiranje.org/dogadjaji-u-javascript-u/){:target="_blank"}

5. Copes F.: [Complete JavaScript Handbook](https://medium.freecodecamp.org/the-complete-javascript-handbook-f26b2c71719c){:target="_blank"}
