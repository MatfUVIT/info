
# УВИТ - ЈаваСкрипт програмирање на клијентској страни

[Владимир Филиповић](https://vladofilipovic.github.io/index-cy.html){:target="_blank"}

## Увод

Овде се разматра коришћење језика ЈаваСкрипт за веб програмирање на клијентској страни. Наиме, приликом довлачења веб странице, довлачи се и смешта у прегледач ЈаваСкрипт код који се извршава. Приликом приказа веб странице се извршава у прегледачу претходно довучени ЈаваСкрипт код, који приликом извршавања интерагује са елементима на веб страни и динамички их мења.

## ЈаваСкрипт и веб стране

Из клијентског ЈаваСкрипт-а се може програмски приступити елементима на веб страни, читати их, мењати њихове атрибуте, додавати их или брисати, по потреби.

### Објекти ЈаваСкрипт окружења код веб прегледача

Свака веб страна омогућује да се из ЈаваСкрипт кода приступа следећим објектима:

- `window`: објекат највишег нивоа; садржи својства примењива на целокупан прозор

- `location`: садржи својства текуће URL локације

- `history`: садржи својства претходно посећених

- `document`: садржи својства садржаја текућег документа, као што су наслов (`title`), боја позадине (`bgcolor`), форме итд.


**Пример.** Илустрација постављања својстава за објекте веб стране:

```js
document.title = 'Probni dokument'; //naziv dokumenta (title)
document.bgColor = '#070707';
document.fgColor = '#00FFFF';

history.length = 7;

location.href = 'http://uvit.math.rs';
```

&#9608;

Дијаграм који следи описује хијеархијску структуру објеката ЈаваСкрипт окружења код веб прегледача:

![Хијерархија DOM објеката](assets/images/dom-object-hierarchy.gif "Хијерархија DOM објеката"){: width="500px" style="float:center; padding:16px"}

Допуштен је приступ елементима на веб страни из ЈаваСкрипт-а. Један начин за програмски приступ елементима на веб страни је реферисање преко вредности атрибута `name`.

**Пример.** У програмском коду који следи, елементима на веб страни се може приступити на основу имена, додeљеног као одговарајући атрибут веб стране:

```js
let forma = document.mojaForma;
let txt = forma.textIme;
console.log(txt.outerHTML);
let btn = forma.buttonOk;
console.log(btn.outerHTML);
```

&#9608;

ЈаваСкрипт објекти који су дотупни преко ваб прегледача могу имати своје атрибуте.

**Пример.** У програмском коду који следи, постављамо атрибуте ЈаваСкрипт објекте који се односе на елементе са веб стране, а чије су вредности одређене у претходном примеру.

```js
document.mojaforma.action = "http://uvit.matf.bg.ac.rs/primeri/obrada.php";
document.mojaforma.method = get;
document.mojaforma.length = 5;
document.mojaforma.button1.value = "Klikni ovde";
document.mojaforma.button1.name = taster1;
document.mojaforma.text1.value = "sadržaj tekst polja";
document.mojaforma.text1.name = TekstPolje1;
document.mojaforma.check1.defaultChecked = true;
document.mojaforma.check1.value = on;
document.mojaforma.check1.name = CheckPolje1;
```

&#9608;

### Функције за приказ ниске као HTML

Следеће методе враћају ниску обавијену са HTML тагом (евентуално неким HTML атрибутом):

| Назив методе          | Опис                                                |
|-----------------------|-----------------------------------------------------|
| `anchor()`            | враће елеменат сидро |
| `big()`               | враће елеменат који садржи ниску са повећаним словима |
| `blink()`             | враће елеменат који садржи трепћућу ниску  |
| `bold()`              | враће елеменат који садржи ниску са подебљанимм словима |
| `fixed()`             | враће елеменат који садржи ниску са словима фикне величине |
| `fontcolor()`         | враће елеменат који садржи ниску са словима у датој боји |
| `fontsize()`          | враће елеменат који садржи ниску са словима дате величине |
| `italics()`           | враће елеменат који садржи ниску са искошеним словима |
| `link()`              | враће елеменат хипервезу који садржи дату ниску |
| `small()`             | враће елеменат који садржи ниску са умањеним словима  |
| `strike()`            | враће елеменат који садржи ниску са прекрижаним словима  |
| `sub()`               | враће елеменат који садржи ниску са словима у индексу |
| `sup()`               |враће елеменат који садржи ниску са словима у експоненту |

### Објектни модел документа (DOM)

Објектни модел документа (eng. Document Object Model - DOM) је програмски интерфејс (АПИ) којим се ЈаваСкрипт програмима омогућава да комуницирају са HTML документима и њиховим елементима.

Основни DOM објекат је HTML документ чијa je структурa верно пресликана у (објектно-оријентисан) АПИ.

DOM објекат за дати елемент на веб страни има структуру дрвета.

**Пример.** За следећи исечак HTML документа, који предстаља табелу:

```html
<table>
  <tbody>
    <tr>
      <td>Shady Grove</td>
      <td>Aeolian</td>
    </tr>
    <tr>
      <td>Over the River, Charlie</td>
      <td>Dorian</td>
    </tr>
  </tbody>
</table>
```

одговарајући DOM објекат има следећу структуру:

![DOM објекат за табелу](assets/images/dom-object-example.gif "DOM објекат за табелу"){: width="500px" style="float:center; padding:16px"}

&#9608;

DOM објекат за дату веб страну такоше има структуру дрвета, где се сарджавање једног елемента у другом представља односм родитељ-потомак.

**Пример.** За следећи HTML документ:

```html
<html>
  <head>
    <title>Moja stranica</title>
  </head>
  <body>
    <p id="p1">Prvi paragraf</p>
    <p class="c1">Drugi paragraf</p>
  </body>
</html>
```

добијају се следећи DOM објектi:

- објекат `document` који садржи:
  - објекат `head` који садржи:
    - `title`
  - објекат `body` који садржи:
    - објекат `p` са атрибутом `id`
    - објекат `p` са атрибутом `class`

То се прегледно може илустровати следећом сликом:

одговарајући DOM објекат има следећу структуру:

![DOM објекат за веб страну](assets/images/dom-blok-html.png "DOM објекат за веб страну"){: width="500px" style="float:center; padding:16px"}

&#9608;

#### Операције са DOM објекатима

Са DOM-ом, ЈаваСкрипт има могућност да креира динамичке HTML стране:

- Да мења елементе на HTML страни.
- Да мења атрибуте на HTML страни.
- Да мења све CSS стилове на HTML страни.
- Да брише постојеће елементе и атрибуте на HTML страни.
- Да додаје нове HTML елементе и атрибуте на страни.
- Да реагује на све постојеће HTML догађаје на страни.
- Да креира нове HTML догађаје на страни.

### Догађаји код DOM објеката

### AJAX

## HTML компоненте

### Дефинисање HTML компоненте


### HTML компоненте и Shadow DOM

### Шаблони код HTML компоненти

### Шаблони код HTML компоненти


### Исцртавање код HTML компоненти

## Литература

1. Haverbeke M.: [Eloquent JavaScript](https://eloquentjavascript.net/){:target="_blank"}

1. [JavaScript](https://developer.mozilla.org/en-US/docs/Web/JavaScript){:target="_blank"} - Mozzila Developer Network (MDN)

1. Живановић, Д.: [Веб програмирање - ЈаваСкрипт](https://www.webprogramiranje.org/dogadjaji-u-javascript-u/){:target="_blank"}

1. Copes F.: [Complete JavaScript Handbook](https://medium.freecodecamp.org/the-complete-javascript-handbook-f26b2c71719c){:target="_blank"}
